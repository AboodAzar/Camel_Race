datasource db {
  provider  = "postgresql"
  url  	    = env("DATABASE_URL")
  directUrl = env("DATABASE_URL_UNPOOLED")
}

generator client {
  provider = "prisma-client-js"
}

enum Role {
  ADMIN
  SUPERVISOR
  USER
}

enum Sex {
  Male
  Female
}

enum Age {
  GradeOne
  GradeTwo
  GradeThree
  GradeFour
  GradeFive
  GradeSixMale
  GradeSixFemale
}

model User{
  id String @id @default(cuid())
  FirstName String
  FatherName String
  GrandFatherName String
  FamilyName String
  username String
  email String @unique
  NationalID String @unique
  BDate DateTime
  MobileNumber String
  emailVerified DateTime?
  password String
  image String?
  role            Role?      @default(USER)
  camels Camel[]
}


model Camel {
  id        Int     @id @default(autoincrement()) 
  name      String
  camelID   String  @unique
  age       Age
  sex       Sex
  ownerId   String
  owner     User    @relation(fields: [ownerId], references: [id])
  loop      Loop?   @relation(fields: [loopId], references: [id])
  loopId    String?
}

model Event {
  id          String   @id @default(cuid())
  name        String
  StartDate        DateTime
  EndDate        DateTime
  loops Loop[]
}

model Loop {
  id      String    @id @default(cuid())
  name    String
  event   Event     @relation(fields: [eventId], references: [id])
  eventId String
  capacity Int
  RegisterStart DateTime
  RegisterEnd   DateTime
  camelIds   String[]
  camels  Camel[]   
}
